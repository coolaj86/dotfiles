---

- name: github
  hosts: all
  gather_facts: yes

  vars:
    state: present
    repos:
      - mkwmms/BYU
      - mkwmms/ansible-coreutils
      - mkwmms/ansible-dircolors
      # - mkwmms/ansible-fasd
      - mkwmms/ansible-fish
      - mkwmms/ansible-gnu-tools
      - mkwmms/ansible-ruby
      - mkwmms/ansible-system
      - mkwmms/ansible-neovim
      - mkwmms/ansible-node
      - mkwmms/dotstrap

  roles:
    - role: ~/Documents/Developer/ansible-github
      username: mkwmms
      email: mkwmms@users.noreply.github.com
      install_state: "{{ state }}"
      configuration_state: "{{ state }}"

  tasks:
    - name: git | clone repos
      git:
        repo: git@github.com:{{ item }}.git
        dest: "{{ ansible_user_dir }}/Documents/Developer/{{ item | basename }}"
        accept_hostkey: yes
      with_items: "{{ repos }}"
