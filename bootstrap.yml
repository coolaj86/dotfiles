---
- name: bootstrap 
  gather_facts: yes 
  hosts: localhost 

  vars_files:
    - secrets.yml

  vars:
    repos:
      - "{{ github_username }}/BYU"
      - "{{ github_username }}/ansible-coreutils"
      - "{{ github_username }}/ansible-dircolors"
      - "{{ github_username }}/ansible-fish"
      - "{{ github_username }}/ansible-github"
      - "{{ github_username }}/ansible-gnu-tools"
      - "{{ github_username }}/ansible-neovim"
      - "{{ github_username }}/ansible-node"
      - "{{ github_username }}/ansible-osx"
      - "{{ github_username }}/ansible-pure"
      - "{{ github_username }}/ansible-ruby"
      - "{{ github_username }}/ansible-xcode"
      - "{{ github_username }}/ansible-xdg"
      - "{{ github_username }}/ansible-z"

  roles:
    - role: dotstrap.ssh 
      tags: ssh
    - role: ansible
      tags: ansible
    - role: dotstrap.github
      tags: github

  tasks:
    - name: git | clone repos
      git:
        repo: git@github.com:{{ item }}.git
        dest: "{{ ansible_user_dir }}/{{ item | basename }}"
        accept_hostkey: yes
      with_items: "{{ repos }}"
